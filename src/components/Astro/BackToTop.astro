---

---

<button
	id="back-to-top-btn"
	class="fixed bottom-0 right-0 w-0 h-0
      border-l-[75px] border-b-[75px]
      border-l-transparent border-b-theme-secondary
			rounded-none
      hover:border-theme-primary
			hover:rounded-full
			hover:mb-6
			hover:mr-2
			hover:animate-pulse
      transition duration-500
      group"
	aria-label="Back to top"
>
	<svg
		xmlns="http://www.w3.org/2000/svg"
		class="h-6 w-6 absolute bottom-1 right-1 text-theme-accent group group-hover:animate-bounce group-hover:h-10 group-hover:w-10 group-hover:mr-3.5"
		fill="currentColor"
		viewBox="0 0 20 20"
	>
		<path
			fill-rule="evenodd"
			d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"
			clip-rule="evenodd"></path>
	</svg>
</button>

<script is:inline>
	function initBackToTop() {
		const btn = document.getElementById("back-to-top-btn");
		if (!btn) return;

		const toggleVisibility = () => {
			if (window.scrollY > 300) {
				btn.classList.remove("opacity-0", "invisible");
				btn.classList.add("opacity-100");
			} else {
				btn.classList.remove("opacity-100");
				btn.classList.add("opacity-0", "invisible");
			}
		};

		const scrollToTop = () => {
			window.scrollTo({
				top: 0,
				behavior: "smooth",
			});
		};

		window.addEventListener("scroll", toggleVisibility);
		btn.addEventListener("click", scrollToTop);
		toggleVisibility();

		// Cleanup on page navigation
		document.addEventListener("astro:before-swap", () => {
			window.removeEventListener("scroll", toggleVisibility);
			btn.removeEventListener("click", scrollToTop);
		});
	}

	// Initialize on load and view transitions
	document.addEventListener("astro:page-load", initBackToTop);
</script>
